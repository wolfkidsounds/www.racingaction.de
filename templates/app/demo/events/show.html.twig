{% extends 'base.html.twig' %}

{% block title %}Event{% endblock %}

{% block body %}
    <h1>Event</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ event.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ event.name }}</td>
            </tr>
            <tr>
                <th>DateTimeBegin</th>
                <td>{{ event.dateTimeBegin ? event.dateTimeBegin|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>DateTimeEnd</th>
                <td>{{ event.dateTimeEnd ? event.dateTimeEnd|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>IsOpenEnd</th>
                <td>{{ event.isOpenEnd ? 'Yes' : 'No' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_events_index') }}">back to list</a>

    <a href="{{ path('app_events_update', {'id': event.id}) }}">edit</a>

    {{ include('app/demo/events/_delete_form.html.twig') }}


{# FRAGE: macht es Sinn, die Rennergebnisse auch noch mit in die erste Tabelle "Fahrer" einzufügen?
zweite Frage: könnte man für die Veranstalter eine Art durchlaufprogramm schreiben?
Ich stelle mir das ungefähr so vor:
    - Seite mit einem großen Button "starte Renntag" weitergeleitet an 
    - Seite "Überprüfe Liste der Fahrer" Auflistung aller angemeldeter Fahrer, nochmal durchsschauen, Lizenzen checken, Fahrer ergänzen/löschen/anpassen, Button "starte Heat 1" weitergeleitet an
       
    !!Fahrer ergänzen wird noch eine wichtige angelegenheit, da ja nicht immer alle auf meiner Seite angemeldet sein werden!!
   
    - Seite "Renntag" mit allen Klassen als Buttons aufgelistet. Durch anklicken eines Buttons wird man in die entsprechenende Klasse weitergeleitet an
        welche Klassen gelistet werden müssen, enthält die Datenbank, da beim Erstellen eines Events der Veranstalter selbst festgelegt hat, welche Klassen gefahren werden sollen
        auf diese Seite wird man nach Durchlauf eines Heats oder eines Rennens automatisch zurückgeleitet, sodass man immer wieder seine Klasse auswählen muss.
        Ist in einer Klasse Heat 1 schon gefahren worden, wird man autpmatisch zu Heat 2 geleitet usw.

        - Seite "Heat 1", teilnehmende Fahrer als Button aufgelistet, wenn in Reallife die Fahrer durch das Ziel Fahren, kann in der App durch anklicken in der richtigen Reihenfolge die Platzierung festgelegt werden
        Reallife: Fahrer fahren durch Ziel: 247_Herbert, 33_Olaf, 87_Luise
        App:    alle Fahrer sind als Button vor mir gelistet, sortiert nach Startnummer zur erleichterten Übersicht
                Herbert fährt zuerst übers Ziel, also wird er zuerst angeklickt
                sobald er angeklickt wurde, wird er unter den "Fahrerbuttons" in die chronologische Liste eingefügt mit (Platzierung,NR/NICK,Punkte)
                usw.
        unter der Liste ist dann wieder ein großer Button "Reihenfolge bestätigen" weitergeleitet an Seite "Renntag"
        
        - Seite "Heat 2".....(gleiche wie "Heat 1")
        - Seite "Heat 3".....(gleiche wie "Heat 1")
        - Seite "Rennen" Fahrer nochmal aufgelistet zum nochmaligen Abgleich in der Rangfolge und Punktestand (Tabelle "Fahrer" aus app/events/show.html.twig)
        ich hätte gerne, dass man auch hier alle Daten notfalls noch abändern kann, was die Reihenfolge betrifft. 
        Für Fehler haftet dann der Veranstalter, aber es gibt manchmal nach Rennen noch Änderungen durch 
        Disqualifizierung, Verletzungen oder Moped will nicht mehr.

        !!es ist wichtig, dass man den Prozess immer unterbrechen kann, 
        also nach Fahren des ersten Heats in eine andere Klasse wechseln kann, 
        da die Heats und das Rennen nicht direkt nacheinander, 
        sondern im Wechsel mit den Heats anderer Klassen gefahren werden.
        Die Daten müssen also sowieso zwischengespeichert werden und mindestens über den Tag, bzw ein Jahr wäre richtig geil,
        abrufbar sein.
#}

{# NÄCHSTE FRAGE:
    Wie schaffe ich eine bessere Übersicht? 
    Wenn wir nun auf der Event_show.html.twig seite alle Klassen mit allen Tabellen auflisten, 
    findet man doch schnell nicht mehr, wonach man sucht.
    Kann man auch hier einfach unter das angezeigte Event einen Auswahlbutton anheften, 
    in der man die Klasse auswählen soll und dann darunter nur die Tabellen der ausgewählten Klasse zu sehen sind?
    --> if-schleife nur anzeigen, wenn oben wahr ?? muss dann aber jeder Klasse eine id geben oder? na mal sehen....
#}
    <h1> Klasse </h1>
    <br>
    <h4>Fahrer</h4>

    {# muss bestimmt noch an den Anfang gesetzt werden, oder? 
    aber ich hätte gerne die Anzeige des Events selbst anders als die Tabellen hier unten....
    geht das wieder mit so einer If-schleife? oder kann ich das auch noch separat umstylen, 
    indem ich direkt in die Tabelle meine Sonderwünsche eintrage?#}
    <style> 
        table, th, td {
            border:1px solid black;
            background-color: #003333;
            color: #e6ffff
        }
    </style>

    {# Liste der anmgemeldeten Fahrer aus der Datenbank.
    jetzt wirds KOMPLIZIERT! :D 
    - Fahrer werden mit der Startnummer_Nickname (NR/NICK) angezeigt
    - vor dem ersten Heat nach Startnummer sortiert
    - nach jedem gefahrenem Heat nach "aktuellem Punktestand"
    - "aktueller Punktestand" ist die Summe der gefahrenen Heats
    - Spalte 1 "Rang" bleibt immer gleich: Zahlenfolge ganzer Zahlen, so sieht man gleich, wer gerade vorne ist im Ranking um die Startpositionen
    - Tabellen-Reihen sind abhängig von der Anzahl der angemeldeten Fahrer #}

    <table class="table">
            <tr>
                <th>Rang</th>
                <th>Fahrer</th>
                <th>Punktestand Heats</th>
                <th>Punkte Heat 1</th>
                <th>Punkte Heat 2</th>
                <th>Punkte Heat 3</th>
            </tr>         
            <tr>
                <td>1</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>2</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>3</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>4</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>5</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>6</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>7</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>8</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>9</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>10</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>11</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
            <tr>
                <td>12</td>
                <td>NR/NICK</td>
                <td>H1+H2+H3</td>
                <td>Punkte</td>
                <td>Punkte</td>
                <td>Punkte</td>
            </tr>
    </table>
    
    <br>
    
    <table class="table">
            <tr>
                <th>Heat 1</th>
                <th>Platz 1</th>
                <th>Platz 2</th>
                <th>Platz 3</th>
                <th>Platz 4</th>
            </tr>
            <tr>
                <td><strong>Reihe 1</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
            <tr>
                <td><strong>Reihe 2</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
            <tr>
                <td><strong>Reihe 3</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
    </table>

    <table class="table">
            <tr>
                <th>Heat 1</th>
                <th>Platz 1</th>
                <th>Platz 2</th>
                <th>Platz 3</th>
                <th>Platz 4</th>
            </tr>
            <tr>
                <td><strong>Reihe 1</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
            <tr>
                <td><strong>Reihe 2</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
            <tr>
                <td><strong>Reihe 3</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
    </table>

    {# in die folgenden Tabellen muss per Zufallsgenerator die Platzverteilung erfolgen.
    jeder Fahrer startet unabhöngig von allen anderen Fahrern einmal aus je einer Reihe, Platz egal #}
    <table class="table">
            <tr>
                <th>Heat 1</th>
                <th>Platz 1</th>
                <th>Platz 2</th>
                <th>Platz 3</th>
                <th>Platz 4</th>
            </tr>
            <tr>
                <td><strong>Reihe 1</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
            <tr>
                <td><strong>Reihe 2</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
            <tr>
                <td><strong>Reihe 3</strong></td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
                <td>Name</td>
            </tr>
    </table>


{% endblock %}
